{"ast":null,"code":"var _jsxFileName = \"/home/isaak/Workspace/ipfsDapp/client/src/App.jsx\";\nimport React, { Component } from 'react';\nimport SimpleStorageContract from \"./contracts/SimpleStorage.json\";\nimport Web3 from \"web3\";\nimport { EthProvider } from \"./contexts/EthContext\";\nimport Intro from \"./components/Intro/\";\nimport Setup from \"./components/Setup\";\nimport Demo from \"./components/Demo\";\nimport Footer from \"./components/Footer\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst rpcURL = \"http://localhost:7545\";\nconst web3 = new Web3(rpcURL);\nconst abi = SimpleStorageContract[\"abi\"];\nconst contractAddress = \"0x0610AA7880cE2C0E0c022DdE76CbFcEaB1A01c0D\";\nconst contract = new web3.eth.Contract(abi, contractAddress);\n\nconst ipfsAPI = require(\"ipfs-api\");\n\nconst ipfs = ipfsAPI({\n  host: \"localhost\",\n  port: \"5001\",\n  protocol: \"http\"\n});\n\nlet saveDataToIPFS = reader => {\n  return new Promise(function (resolve, reject) {\n    const buffer = Buffer.from(reader.result);\n    ipfs.add(buffer).then(response => {\n      console.log(response);\n      resolve(response[0].hash);\n    }).catch(err => {\n      console.error(err);\n      reject(err);\n    });\n  });\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      blockChainHash: null,\n      web3: null,\n      address: null,\n      dataHash: null,\n      isSuccess: false\n    };\n  }\n\n  componentWillMount() {\n    ipfs.swarm.peers(function (err, res) {\n      if (err) {\n        console.error(err);\n      } else {\n        console.log(res);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n} //\n// function App() {\n//   return (\n//     <EthProvider>\n//       <div id=\"App\" >\n//         <div className=\"container\">\n//           <Intro />\n//           <hr />\n//           <Setup />\n//           <hr />\n//           <Demo />\n//           <hr />\n//           <Footer />\n//         </div>\n//       </div>\n//     </EthProvider>\n//   );\n// }\n\n\nexport default App;","map":{"version":3,"names":["React","Component","SimpleStorageContract","Web3","EthProvider","Intro","Setup","Demo","Footer","rpcURL","web3","abi","contractAddress","contract","eth","Contract","ipfsAPI","require","ipfs","host","port","protocol","saveDataToIPFS","reader","Promise","resolve","reject","buffer","Buffer","from","result","add","then","response","console","log","hash","catch","err","error","App","constructor","props","state","blockChainHash","address","dataHash","isSuccess","componentWillMount","swarm","peers","res","render"],"sources":["/home/isaak/Workspace/ipfsDapp/client/src/App.jsx"],"sourcesContent":["import React, {Component} from 'react';\nimport SimpleStorageContract from \"./contracts/SimpleStorage.json\";\nimport Web3 from \"web3\";\n\nimport { EthProvider } from \"./contexts/EthContext\";\nimport Intro from \"./components/Intro/\";\nimport Setup from \"./components/Setup\";\nimport Demo from \"./components/Demo\";\nimport Footer from \"./components/Footer\";\nimport \"./App.css\";\n\nconst rpcURL = \"http://localhost:7545\";\nconst web3 = new Web3(rpcURL);\n\nconst abi = SimpleStorageContract[\"abi\"];\nconst contractAddress = \"0x0610AA7880cE2C0E0c022DdE76CbFcEaB1A01c0D\";\nconst contract = new web3.eth.Contract(abi, contractAddress);\n\nconst ipfsAPI = require(\"ipfs-api\");\nconst ipfs = ipfsAPI({\n  host: \"localhost\",\n  port: \"5001\",\n  protocol: \"http\"\n});\n\nlet saveDataToIPFS = (reader) => {\n  return new Promise(function(resolve, reject) {\n    const buffer = Buffer.from(reader.result);\n    ipfs.add(buffer).then((response) => {\n      console.log(response);\n      resolve(response[0].hash);\n    }).catch((err) => {\n      console.error(err);\n      reject(err);\n    })\n  })\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      blockChainHash: null,\n      web3: null,\n      address: null,\n      dataHash: null,\n      isSuccess: false\n    }\n  }\n\n  componentWillMount() {\n    ipfs.swarm.peers(function(err, res) {\n      if (err) {\n        console.error(err);\n      } else {\n        console.log(res);\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n      </div>\n    );\n  }\n\n}\n\n//\n// function App() {\n//   return (\n//     <EthProvider>\n//       <div id=\"App\" >\n//         <div className=\"container\">\n//           <Intro />\n//           <hr />\n//           <Setup />\n//           <hr />\n//           <Demo />\n//           <hr />\n//           <Footer />\n//         </div>\n//       </div>\n//     </EthProvider>\n//   );\n// }\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,qBAAP,MAAkC,gCAAlC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,SAASC,WAAT,QAA4B,uBAA5B;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAO,WAAP;;AAEA,MAAMC,MAAM,GAAG,uBAAf;AACA,MAAMC,IAAI,GAAG,IAAIP,IAAJ,CAASM,MAAT,CAAb;AAEA,MAAME,GAAG,GAAGT,qBAAqB,CAAC,KAAD,CAAjC;AACA,MAAMU,eAAe,GAAG,4CAAxB;AACA,MAAMC,QAAQ,GAAG,IAAIH,IAAI,CAACI,GAAL,CAASC,QAAb,CAAsBJ,GAAtB,EAA2BC,eAA3B,CAAjB;;AAEA,MAAMI,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGF,OAAO,CAAC;EACnBG,IAAI,EAAE,WADa;EAEnBC,IAAI,EAAE,MAFa;EAGnBC,QAAQ,EAAE;AAHS,CAAD,CAApB;;AAMA,IAAIC,cAAc,GAAIC,MAAD,IAAY;EAC/B,OAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;IAC3C,MAAMC,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYN,MAAM,CAACO,MAAnB,CAAf;IACAZ,IAAI,CAACa,GAAL,CAASJ,MAAT,EAAiBK,IAAjB,CAAuBC,QAAD,IAAc;MAClCC,OAAO,CAACC,GAAR,CAAYF,QAAZ;MACAR,OAAO,CAACQ,QAAQ,CAAC,CAAD,CAAR,CAAYG,IAAb,CAAP;IACD,CAHD,EAGGC,KAHH,CAGUC,GAAD,IAAS;MAChBJ,OAAO,CAACK,KAAR,CAAcD,GAAd;MACAZ,MAAM,CAACY,GAAD,CAAN;IACD,CAND;EAOD,CATM,CAAP;AAUD,CAXD;;AAaA,MAAME,GAAN,SAAkBvC,SAAlB,CAA4B;EAC1BwC,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IAEA,KAAKC,KAAL,GAAa;MACXC,cAAc,EAAE,IADL;MAEXlC,IAAI,EAAE,IAFK;MAGXmC,OAAO,EAAE,IAHE;MAIXC,QAAQ,EAAE,IAJC;MAKXC,SAAS,EAAE;IALA,CAAb;EAOD;;EAEDC,kBAAkB,GAAG;IACnB9B,IAAI,CAAC+B,KAAL,CAAWC,KAAX,CAAiB,UAASZ,GAAT,EAAca,GAAd,EAAmB;MAClC,IAAIb,GAAJ,EAAS;QACPJ,OAAO,CAACK,KAAR,CAAcD,GAAd;MACD,CAFD,MAEO;QACLJ,OAAO,CAACC,GAAR,CAAYgB,GAAZ;MACD;IACF,CAND;EAOD;;EAEDC,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC;IAAf;MAAA;MAAA;MAAA;IAAA,QADF;EAID;;AA5ByB,C,CAgC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAeZ,GAAf"},"metadata":{},"sourceType":"module"}