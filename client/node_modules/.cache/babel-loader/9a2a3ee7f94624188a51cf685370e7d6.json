{"ast":null,"code":"'use strict';\n\nconst ciphers = require('./ciphers');\nconst CIPHER_MODES = {\n  16: 'aes-128-ctr',\n  32: 'aes-256-ctr'\n};\nexports.create = function (key, iv, callback) {\n  const mode = CIPHER_MODES[key.length];\n  if (!mode) {\n    return callback(new Error('Invalid key length'));\n  }\n  const cipher = ciphers.createCipheriv(mode, key, iv);\n  const decipher = ciphers.createDecipheriv(mode, key, iv);\n  const res = {\n    encrypt(data, cb) {\n      cb(null, cipher.update(data));\n    },\n    decrypt(data, cb) {\n      cb(null, decipher.update(data));\n    }\n  };\n  callback(null, res);\n};","map":{"version":3,"names":["ciphers","require","CIPHER_MODES","exports","create","key","iv","callback","mode","length","Error","cipher","createCipheriv","decipher","createDecipheriv","res","encrypt","data","cb","update","decrypt"],"sources":["/home/isaak/Workspace/ipfsDapp/client/node_modules/peer-info/node_modules/libp2p-crypto/src/aes/index.js"],"sourcesContent":["'use strict'\n\nconst ciphers = require('./ciphers')\n\nconst CIPHER_MODES = {\n  16: 'aes-128-ctr',\n  32: 'aes-256-ctr'\n}\n\nexports.create = function (key, iv, callback) {\n  const mode = CIPHER_MODES[key.length]\n  if (!mode) {\n    return callback(new Error('Invalid key length'))\n  }\n\n  const cipher = ciphers.createCipheriv(mode, key, iv)\n  const decipher = ciphers.createDecipheriv(mode, key, iv)\n\n  const res = {\n    encrypt (data, cb) {\n      cb(null, cipher.update(data))\n    },\n\n    decrypt (data, cb) {\n      cb(null, decipher.update(data))\n    }\n  }\n\n  callback(null, res)\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;AAEpC,MAAMC,YAAY,GAAG;EACnB,EAAE,EAAE,aAAa;EACjB,EAAE,EAAE;AACN,CAAC;AAEDC,OAAO,CAACC,MAAM,GAAG,UAAUC,GAAG,EAAEC,EAAE,EAAEC,QAAQ,EAAE;EAC5C,MAAMC,IAAI,GAAGN,YAAY,CAACG,GAAG,CAACI,MAAM,CAAC;EACrC,IAAI,CAACD,IAAI,EAAE;IACT,OAAOD,QAAQ,CAAC,IAAIG,KAAK,CAAC,oBAAoB,CAAC,CAAC;EAClD;EAEA,MAAMC,MAAM,GAAGX,OAAO,CAACY,cAAc,CAACJ,IAAI,EAAEH,GAAG,EAAEC,EAAE,CAAC;EACpD,MAAMO,QAAQ,GAAGb,OAAO,CAACc,gBAAgB,CAACN,IAAI,EAAEH,GAAG,EAAEC,EAAE,CAAC;EAExD,MAAMS,GAAG,GAAG;IACVC,OAAO,CAAEC,IAAI,EAAEC,EAAE,EAAE;MACjBA,EAAE,CAAC,IAAI,EAAEP,MAAM,CAACQ,MAAM,CAACF,IAAI,CAAC,CAAC;IAC/B,CAAC;IAEDG,OAAO,CAAEH,IAAI,EAAEC,EAAE,EAAE;MACjBA,EAAE,CAAC,IAAI,EAAEL,QAAQ,CAACM,MAAM,CAACF,IAAI,CAAC,CAAC;IACjC;EACF,CAAC;EAEDV,QAAQ,CAAC,IAAI,EAAEQ,GAAG,CAAC;AACrB,CAAC"},"metadata":{},"sourceType":"script"}